[{"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/index.js":"1","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/App.js":"2","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/three/Scene.js":"3","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/state/levelContext.js":"4","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/state/gestureContext.js":"5","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/components/Onboarding.js":"6","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/blockly/customBlocks.js":"7","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/blockly/robotCommandGenerator.js":"8","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/interpreter/executeCommand.js":"9","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/interpreter/useCommandQueue.js":"10","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/components/GestureDetector.js":"11","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/three/useAgent.js":"12","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/state/agentContext.js":"13","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/three/Map.js":"14","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/three/Camera.js":"15","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/components/GestureRecognition.js":"16","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/utils/indexedDB.js":"17","/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/utils/gestureFeatures.js":"18"},{"size":219,"mtime":1761207486715,"results":"19","hashOfConfig":"20"},{"size":6081,"mtime":1761286792387,"results":"21","hashOfConfig":"20"},{"size":8578,"mtime":1761207486716,"results":"22","hashOfConfig":"20"},{"size":5438,"mtime":1761207486715,"results":"23","hashOfConfig":"20"},{"size":10687,"mtime":1761287669661,"results":"24","hashOfConfig":"20"},{"size":3800,"mtime":1761282361117,"results":"25","hashOfConfig":"20"},{"size":6290,"mtime":1761286792387,"results":"26","hashOfConfig":"20"},{"size":3687,"mtime":1761286792387,"results":"27","hashOfConfig":"20"},{"size":3445,"mtime":1761285861109,"results":"28","hashOfConfig":"20"},{"size":2706,"mtime":1761285861123,"results":"29","hashOfConfig":"20"},{"size":5089,"mtime":1761286082031,"results":"30","hashOfConfig":"20"},{"size":6356,"mtime":1761207486716,"results":"31","hashOfConfig":"20"},{"size":321,"mtime":1761207486715,"results":"32","hashOfConfig":"20"},{"size":2355,"mtime":1761207486716,"results":"33","hashOfConfig":"20"},{"size":8316,"mtime":1761207486715,"results":"34","hashOfConfig":"20"},{"size":14760,"mtime":1761284111751,"results":"35","hashOfConfig":"20"},{"size":2778,"mtime":1761282361117,"results":"36","hashOfConfig":"20"},{"size":7890,"mtime":1761287669660,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1u6ov8j",{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/index.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/App.js",["76"],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/three/Scene.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/state/levelContext.js",["77"],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/state/gestureContext.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/components/Onboarding.js",["78","79"],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/blockly/customBlocks.js",[],["80","81"],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/blockly/robotCommandGenerator.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/interpreter/executeCommand.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/interpreter/useCommandQueue.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/components/GestureDetector.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/three/useAgent.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/state/agentContext.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/three/Map.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/three/Camera.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/components/GestureRecognition.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/utils/indexedDB.js",[],"/Users/akokhanenko/repos/yandex-uchebnik-robots-web/src/utils/gestureFeatures.js",["82"],"/**\n * Улучшенное извлечение признаков для распознавания жестов\n * Создает признаки инвариантные к позиции, размеру и частично к повороту руки\n */\n\n/**\n * Вычисляет евклидово расстояние между двумя точками\n */\nfunction distance(p1, p2) {\n  const dx = p1.x - p2.x;\n  const dy = p1.y - p2.y;\n  const dz = (p1.z || 0) - (p2.z || 0);\n  return Math.sqrt(dx * dx + dy * dy + dz * dz);\n}\n\n/**\n * Вычисляет угол между тремя точками (в радианах)\n * angle = arccos((BA · BC) / (|BA| × |BC|))\n */\nfunction angle(p1, p2, p3) {\n  // Векторы от p2 к p1 и от p2 к p3\n  const v1 = {\n    x: p1.x - p2.x,\n    y: p1.y - p2.y,\n    z: (p1.z || 0) - (p2.z || 0)\n  };\n  const v2 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y,\n    z: (p3.z || 0) - (p2.z || 0)\n  };\n  \n  // Скалярное произведение\n  const dot = v1.x * v2.x + v1.y * v2.y + v1.z * v2.z;\n  \n  // Длины векторов\n  const len1 = Math.sqrt(v1.x * v1.x + v1.y * v1.y + v1.z * v1.z);\n  const len2 = Math.sqrt(v2.x * v2.x + v2.y * v2.y + v2.z * v2.z);\n  \n  if (len1 === 0 || len2 === 0) return 0;\n  \n  // Косинус угла\n  const cosAngle = dot / (len1 * len2);\n  // Ограничиваем значение для избежания ошибок округления\n  const clampedCos = Math.max(-1, Math.min(1, cosAngle));\n  \n  return Math.acos(clampedCos);\n}\n\n/**\n * Извлекает улучшенные признаки из ключевых точек руки\n * MediaPipe Hand landmarks: 21 точка\n * \n * Индексы точек:\n * 0: Запястье (WRIST)\n * 1-4: Большой палец (THUMB_CMC, MCP, IP, TIP)\n * 5-8: Указательный (INDEX_FINGER_MCP, PIP, DIP, TIP)\n * 9-12: Средний (MIDDLE_FINGER_MCP, PIP, DIP, TIP)\n * 13-16: Безымянный (RING_FINGER_MCP, PIP, DIP, TIP)\n * 17-20: Мизинец (PINKY_MCP, PIP, DIP, TIP)\n */\nexport function extractGestureFeatures(keypoints) {\n  if (!keypoints || keypoints.length !== 21) {\n    throw new Error('Требуется 21 ключевая точка руки');\n  }\n  \n  const features = [];\n  \n  // 1. Нормализация по размеру руки\n  // Используем расстояние от запястья (0) до среднего пальца MCP (9)\n  const wrist = keypoints[0];\n  const middleFingerBase = keypoints[9];\n  const handSize = distance(wrist, middleFingerBase);\n  \n  // Защита от деления на ноль\n  const normFactor = handSize > 0.01 ? handSize : 1;\n  \n  // 2. Нормализованные координаты относительно запястья\n  // Это делает признаки инвариантными к позиции руки в кадре\n  for (let i = 1; i < 21; i++) {\n    const kp = keypoints[i];\n    features.push(\n      (kp.x - wrist.x) / normFactor,\n      (kp.y - wrist.y) / normFactor,\n      ((kp.z || 0) - (wrist.z || 0)) / normFactor\n    );\n  }\n  // 20 точек × 3 координаты = 60 признаков\n  \n  // 3. Углы в суставах пальцев\n  // Большой палец\n  features.push(angle(keypoints[1], keypoints[2], keypoints[3])); // CMC-MCP-IP\n  features.push(angle(keypoints[2], keypoints[3], keypoints[4])); // MCP-IP-TIP\n  \n  // Указательный палец\n  features.push(angle(keypoints[5], keypoints[6], keypoints[7])); // MCP-PIP-DIP\n  features.push(angle(keypoints[6], keypoints[7], keypoints[8])); // PIP-DIP-TIP\n  \n  // Средний палец\n  features.push(angle(keypoints[9], keypoints[10], keypoints[11]));\n  features.push(angle(keypoints[10], keypoints[11], keypoints[12]));\n  \n  // Безымянный палец\n  features.push(angle(keypoints[13], keypoints[14], keypoints[15]));\n  features.push(angle(keypoints[14], keypoints[15], keypoints[16]));\n  \n  // Мизинец\n  features.push(angle(keypoints[17], keypoints[18], keypoints[19]));\n  features.push(angle(keypoints[18], keypoints[19], keypoints[20]));\n  // 10 углов\n  \n  // 4. Расстояния между кончиками пальцев (нормализованные)\n  // Это помогает различать жесты типа \"ок\", \"peace\" и т.д.\n  const fingerTips = [4, 8, 12, 16, 20]; // Кончики всех пальцев\n  \n  for (let i = 0; i < fingerTips.length; i++) {\n    for (let j = i + 1; j < fingerTips.length; j++) {\n      const dist = distance(keypoints[fingerTips[i]], keypoints[fingerTips[j]]);\n      features.push(dist / normFactor);\n    }\n  }\n  // C(5,2) = 10 расстояний\n  \n  // 5. Расстояния от кончиков пальцев до запястья (нормализованные)\n  for (const tipIndex of fingerTips) {\n    const dist = distance(keypoints[tipIndex], wrist);\n    features.push(dist / normFactor);\n  }\n  // 5 расстояний\n  \n  // 6. Углы между векторами пальцев (от основания к кончику)\n  const fingerBases = [1, 5, 9, 13, 17]; // Основания пальцев\n  \n  for (let i = 0; i < fingerBases.length; i++) {\n    for (let j = i + 1; j < fingerBases.length; j++) {\n      const baseI = fingerBases[i];\n      const tipI = fingerTips[i];\n      const baseJ = fingerBases[j];\n      const tipJ = fingerTips[j];\n      \n      features.push(angle(\n        keypoints[tipI],\n        keypoints[baseI],\n        keypoints[tipJ]\n      ));\n    }\n  }\n  // C(5,2) = 10 углов\n  \n  // Итого: 60 + 10 + 10 + 5 + 10 = 95 признаков\n  // Больше чем 63, но гораздо информативнее!\n  \n  return features;\n}\n\n/**\n * Альтернативная версия с меньшим количеством признаков (для более быстрой работы)\n * Используйте эту версию если производительность критична\n */\nexport function extractGestureFeaturesLight(keypoints) {\n  if (!keypoints || keypoints.length !== 21) {\n    throw new Error('Требуется 21 ключевая точка руки');\n  }\n  \n  const features = [];\n  \n  // Нормализация\n  const wrist = keypoints[0];\n  const middleFingerBase = keypoints[9];\n  const handSize = distance(wrist, middleFingerBase);\n  const normFactor = handSize > 0.01 ? handSize : 1;\n  \n  // 1. Нормализованные координаты (60 признаков)\n  for (let i = 1; i < 21; i++) {\n    const kp = keypoints[i];\n    features.push(\n      (kp.x - wrist.x) / normFactor,\n      (kp.y - wrist.y) / normFactor,\n      ((kp.z || 0) - (wrist.z || 0)) / normFactor\n    );\n  }\n  \n  // 2. Только углы в суставах (10 признаков)\n  features.push(angle(keypoints[1], keypoints[2], keypoints[3]));\n  features.push(angle(keypoints[2], keypoints[3], keypoints[4]));\n  features.push(angle(keypoints[5], keypoints[6], keypoints[7]));\n  features.push(angle(keypoints[6], keypoints[7], keypoints[8]));\n  features.push(angle(keypoints[9], keypoints[10], keypoints[11]));\n  features.push(angle(keypoints[10], keypoints[11], keypoints[12]));\n  features.push(angle(keypoints[13], keypoints[14], keypoints[15]));\n  features.push(angle(keypoints[14], keypoints[15], keypoints[16]));\n  features.push(angle(keypoints[17], keypoints[18], keypoints[19]));\n  features.push(angle(keypoints[18], keypoints[19], keypoints[20]));\n  \n  // Итого: 70 признаков (компромисс между качеством и скоростью)\n  \n  return features;\n}\n\n/**\n * Выбор версии функции извлечения признаков\n * По умолчанию используется полная версия\n */\nexport default extractGestureFeatures;\n\n",{"ruleId":"83","severity":1,"message":"84","line":6,"column":28,"nodeType":"85","messageId":"86","endLine":6,"endColumn":37},{"ruleId":"83","severity":1,"message":"87","line":30,"column":10,"nodeType":"85","messageId":"86","endLine":30,"endColumn":20},{"ruleId":"88","severity":1,"message":"89","line":99,"column":17,"nodeType":"90","endLine":99,"endColumn":86},{"ruleId":"88","severity":1,"message":"89","line":106,"column":17,"nodeType":"90","endLine":106,"endColumn":46},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"83","severity":1,"message":"95","line":138,"column":13,"nodeType":"85","messageId":"86","endLine":138,"endColumn":18},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'isEmptyXml' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-native-reassign",["96"],"no-negated-in-lhs",["97"],"'baseJ' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]